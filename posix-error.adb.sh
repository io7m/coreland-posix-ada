#!/bin/sh

cat LICENSE
cat <<EOF

--
-- Auto generated, do not edit.
--

package body POSIX.Error is
  use type Interfaces.C.int;

EOF

echo '  -- Errno values (generated by errno_constants.lua)'
./errno_constants.lua errno_to_int.map || exit 1
echo
echo '  -- Errno mappings (generated by errno_map.lua)'
./errno_map.lua errno_to_int.map errno_to_ada.map || exit 1

cat <<EOF
  --
  -- Map error value to locale-specific error message.
  --

  function Wide_Message (Value : in Error_t) return Wide_String is
  begin
    -- return Wide_Catalog_Get (Ada_To_Errno (Value));
    return Error_t'Wide_Image (Value);
  end Wide_Message;

  function Message (Value : Error_t) return String is
  begin
    -- return Catalog_Get (Ada_To_Errno (Value));
    return Error_t'Image (Value);
  end Message;

end POSIX.Error;
EOF
